{# templates/partials/_navbar.html.twig #}
<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom shadow-sm">
	<div
		class="container">
		{# Brand (statique) #}
		<a class="navbar-brand d-flex align-items-center" href="{{ path('app_home') }}">
<img src="{{asset('asset/images/logo.svg')}}" alt="Logo EcoRide" height="32" class="me-2">

			<span class="fw-semibold">EcoRide</span>
		</a>

		{# Bouton mobile (toggler) #}
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar" aria-controls="mainNavbar" aria-expanded="false" aria-label="Afficher le menu">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div
			class="collapse navbar-collapse" id="mainNavbar">
			{# Left: primary nav #}
			<ul class="navbar-nav me-auto">
				<li class="nav-item">
					<a class="nav-link" href="#">Comment ça marche ?</a>
				</li>
				<li class="nav-item">
					<a class="nav-link fw-semibold" href="#">Covoiturages</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" data-bs-toggle="modal" data-bs-target="#exampleModal">Mes participations</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="#">Contact</a>
				</li>
			</ul>

			{# Right: widgets + account #}
			<ul
				class="navbar-nav ms-auto align-items-lg-center">

				{# Wallet statique #}
				<li class="nav-item dropdown ms-md-2">
					<a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="navWallet" role="button" data-bs-toggle="dropdown" aria-expanded="false">
						<i class="bi bi-wallet2 me-1"></i>
						<span class="d-none d-lg-inline">Wallet</span>
						<span class="badge bg-success ms-2">125</span>
						<span class="badge bg-warning text-dark ms-1">
							<i class="bi bi-lock-fill me-1"></i>
							42
						</span>
					</a>

					<div class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="navWallet" style="min-width: 320px;">
						<div class="p-3">
							<div class="d-flex justify-content-between align-items-center mb-2">
								<div class="text-muted small">Solde disponible</div>
								<div class="fw-bold text-success">125</div>
							</div>
							<div class="d-flex justify-content-between align-items-center">
								<div class="text-muted small">Solde en attente</div>
								<div class="fw-bold text-warning">42</div>
							</div>

							<div class="mt-3">
								<div class="progress" style="height: 6px;">
									<div class="progress-bar bg-success" role="progressbar" style="width: 75%"></div>
									<div class="progress-bar bg-warning" role="progressbar" style="width: 25%"></div>
								</div>
								<div class="d-flex justify-content-between small text-muted mt-1">
									<span>Disponible</span>
									<span>En attente</span>
								</div>
							</div>
						</div>
					</div>
				</li>

				{# Compte statique #}
				<li class="nav-item dropdown ms-md-2">
					<a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="navAccount" role="button" data-bs-toggle="dropdown" aria-expanded="false">
						<span class="rounded-circle d-inline-flex align-items-center justify-content-center me-2" style="width:28px;height:28px;background:rgba(0,0,0,.08);">
							<strong class="small">A</strong>
						</span>
						<span class="d-none d-lg-inline">alex</span>
					</a>

					<div class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="navAccount" style="min-width: 260px;">
						<div class="px-3 py-2 small">
							<div class="fw-semibold">alex</div>
							<div class="text-muted">Mode :
								<span class="badge bg-success">Conducteur</span>
							</div>
						</div>
						<div class="dropdown-divider"></div>

						<a class="dropdown-item" href="#">
							<i class="bi bi-person-circle me-2"></i>
							Mon profil</a>
						<a class="dropdown-item" href="#">
							<i class="bi bi-sliders2 me-2"></i>
							Mes préférences</a>
						<a class="dropdown-item" href="#">
							<i class="bi bi-calendar2-event me-2"></i>
							Mes covoiturages</a>
						<a class="dropdown-item" href="#">
							<i class="bi bi-plus-circle me-2"></i>
							Publier un trajet</a>

						<div class="dropdown-divider"></div>

						<button type="button" class="dropdown-item d-flex align-items-center">
							<i class="bi bi-person me-2"></i>
							Passer en mode Passager
						</button>

						<div class="dropdown-divider"></div>

						<a class="dropdown-item text-danger" href="#">
							<i class="bi bi-box-arrow-right me-2"></i>
							Déconnexion</a>
					</div>
				</li>
			</ul>
		</div>
	</div>
</nav>

{# Modal statique : Mes trajets réservés #}
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg modal-dialog-scrollable">
		<div class="modal-content">
			<div class="modal-header">
				<h1 class="modal-title fs-5 d-flex align-items-center gap-2" id="exampleModalLabel">
					<i class="bi bi-calendar2-event"></i>
					Mes trajets réservés
					<span class="badge bg-secondary">2</span>
				</h1>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
			</div>

			<div class="modal-body">
				<div
					class="list-group list-group-flush">
					{# Item 1 #}
					<a class="list-group-item list-group-item-action py-3" href="#">
						<div class="d-flex w-100 justify-content-between">
							<h6 class="mb-1 fw-semibold text-truncate">
								<i class="bi bi-geo-alt me-1"></i>
								Lille
								<i class="bi bi-arrow-right mx-1"></i>
								Paris
							</h6>
							<span class="badge bg-success">PUBLISHED</span>
						</div>
						<div class="small text-muted d-flex flex-wrap gap-3 mt-1">
							<span>
								<i class="bi bi-calendar2 me-1"></i>18/09/2025 08:30</span>
							<span>
								<i class="bi bi-cash-coin me-1"></i>9 €</span>
							<span>
								<i class="bi bi-person me-1"></i>Marie Dupont</span>
							<span>
								<i class="bi bi-car-front me-1"></i>Tesla Model 3</span>
							<span>
								<i class="bi bi-people me-1"></i>1 place restante</span>
						</div>
					</a>

					{# Item 2 #}
					<a class="list-group-item list-group-item-action py-3" href="#">
						<div class="d-flex w-100 justify-content-between">
							<h6 class="mb-1 fw-semibold text-truncate">
								<i class="bi bi-geo-alt me-1"></i>
								Roubaix
								<i class="bi bi-arrow-right mx-1"></i>
								Tourcoing
							</h6>
							<span class="badge bg-warning text-dark">FULL</span>
						</div>
						<div class="small text-muted d-flex flex-wrap gap-3 mt-1">
							<span>
								<i class="bi bi-calendar2 me-1"></i>20/09/2025 17:15</span>
							<span>
								<i class="bi bi-cash-coin me-1"></i>3 €</span>
							<span>
								<i class="bi bi-person me-1"></i>Jean Martin</span>
							<span>
								<i class="bi bi-car-front me-1"></i>Renault Zoé</span>
							<span>
								<i class="bi bi-people me-1"></i>Complet</span>
						</div>
					</a>
				</div>
			</div>

			<div class="modal-footer">
				<a href="#" class="btn btn-outline-secondary">
					<i class="bi bi-person"></i>
					Mon profil
				</a>
				<button type="button" class="btn btn-primary" data-bs-dismiss="modal">
					<i class="bi bi-check2"></i>
					OK
				</button>
			</div>
		</div>
	</div>
</div>

